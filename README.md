# Enerplex

Enerplex serves as the core data storage and access hub for the project. It comprises three main components:

### Enerplex Database
The Enerplex Database is a MySQL database designed to store data generated by the pipeline. It provides a structured and efficient way to manage protein-ligand complex (PLC) information, embeddings, and energy calculations.

### Enerplex API
The Enerplex API is a Node.js Express-based API layer that provides an interface for interacting with the Enerplex Database. It supports CRUD operations and serves as the intermediary between the data and the downstream tools.

### Enerplex API Client
The Enerplex API Client is a Python-based interface for programmatic interaction with the Enerplex API. It facilitates seamless integration with the data pipeline and other tools, ensuring efficient data retrieval and manipulation.

# Energen

![Pipeline](.misc/pipeline.png)

Energen is a modular dataset generation pipeline that generates, processes, and evaluates protein-ligand complexes. It is composed of the following stages:

### Protein-Ligand-Complex-Generator Stage
This stage generates new protein-ligand complexes (PLCs) for the database.
- **Protein Targets:** The initial focus is on CyclophilinD, but the framework allows for expansion to other protein targets.
- **Ligand Generation:** Moldrug, a genetic algorithm-based tool, is used to create novel ligands for the target protein.
- **Scoring:** Docking scores are calculated, and future iterations may incorporate AlphaFold3 for more accurate binding poses.

### Feature Embedding Stage
This stage computes embeddings of the generated PLCs to create vector representations for downstream tasks.
- **Non-ML Topological Sequence Embedding:** Generates sequence-based embeddings from structural data.
- **TopoFormer Encoder:** Converts sequence embeddings into vector embeddings using a pre-trained transformer model.
- **Output:** The resulting embeddings are stored in the Enerplex Database for use in the energy and prediction stages.

### Energy Calculation Stage
The Energy Stage calculates free binding energies for PLCs, which are critical for assessing ligand viability.
- **Bindflow:** Utilizes Bindflow to calculate energies using:
  - Absolute Free Energy Perturbation (AFEP) for highly accurate energy values.
  - MM/GBSA (or MM/PBSA) for computationally efficient estimations.
- **Optimizations:** High computational costs are mitigated by leveraging offline-batch training or on-the-fly data generation with online validate-train workflows.
- **Output:** Free energy differences are stored in the Enerplex Database.

### Predicting Stage
This stage is under development and aims to predict binding efficiencies and other properties of interest using machine learning models.

# 

For detailed instructions, refer to the respective documentation for each module.
